{% extends 'baza.html' %}
{% load static %}

{% block content %}

<section class="page-title-section">
    <h1>Categorie: {{ cat.nume_categorie }}</h1>
    
    {% if cat.descriere %}
        <p style="color: #6c757d; font-size: 1.1rem;">{{ cat.descriere }}</p>
    {% endif %}
</section>

<section id="categorie-detaliu" class="serie-detaliu-produse">
    <h3 class="produse-din-serie-titlu">Produse din această categorie:</h3>
    
    <div class="lista-produse">
        {% for p in produse %}
        <article class="produs-card">
            <a href="{% url 'produs_detaliu' p.id_figurina %}" class="card-image-link">
                {% if p.imagine %}
                    <img src="{{ p.imagine.url }}" alt="{{ p.nume_figurina }}">
                {% else %}
                    <img src="{% static 'imagini/placeholder.png' %}" alt="Imagine indisponibilă">
                {% endif %}
            </a>
            
            <div class="card-continut">
                <p class="card-categorie">
                    <a href="{% url 'categorie_detaliu' p.id_categorie.nume_categorie %}"
                       class="link-categorie" 
                       style="--culoare-baza: {{ p.id_categorie.culoare }}; --culoare-activa: {{ p.id_categorie.culoare_activa }};">
                        {{ p.id_categorie.nume_categorie }}
                    </a>
                </p>
                
                <h3 class="card-titlu">
                    <a href="{% url 'produs_detaliu' p.id_figurina %}">{{ p.nume_figurina }}</a>
                </h3>
                
                <p class="card-stare">{{ p.get_stare_display }}</p>
                
                <div class="card-spacer"></div> 
                
                <p class="card-pret">{{ p.pret }} RON</p>
            </div>
        </article>
        {% empty %}
            <p style="text-align: center; grid-column: 1 / -1; font-size: 1.1rem; color: #6c757d;">
                Nu există (încă) produse listate în această categorie.
            </p>
        {% endfor %}
    </div>
    
</section>
{% endblock %}